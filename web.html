<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html lang="en">
    <head>
        <title>Bootstrap Example</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet"
              href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="styl.css" type="text/css"/>

        <script
        src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script
        src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    </head>
    <body>
        <div class="container">
            <h2>STUDENT REGISTRATION FORM</h2>
            <form id="stuForm" method="post">
                <div class="form-group">
                    <span><label for="rollnumber"> Roll Number:</label> <label id="stuIdMsg">
                        </label></span>
                    <input type="text" class="form-control" name="rollnumber" id="rollnumber"
                           placeholder="Enter roll number" required>
                </div>
                <div class="form-group">
                    <label for="fullName">FULL NAME:</label>
                    <input type="text" class="form-control" id="fullName"
                           placeholder="Enter FULL NAME" name="empName">
                </div>
        <div class="form-group">
            <label for="birthdate">Birth Date:</label>
            <input type="email" class="form-control" id="birthdate"
                   placeholder="Enter Birthdate" name="birthdate">
            <select name="birthdate" id="Birthday_Day">
                <option value="-1">Day:</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>

                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>

                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
                <option value="21">21</option>

                <option value="22">22</option>
                <option value="23">23</option>
                <option value="24">24</option>
                <option value="25">25</option>
                <option value="26">26</option>
                <option value="27">27</option>
                <option value="28">28</option>
                <option value="29">29</option>
                <option value="30">30</option>

                <option value="31">31</option>
            </select>

            <select id="Birthday_Month" name="Birthday_Month">
                <option value="-1">Month:</option>
                <option value="January">Jan</option>
                <option value="February">Feb</option>
                <option value="March">Mar</option>
                <option value="April">Apr</option>
                <option value="May">May</option>
                <option value="June">Jun</option>
                <option value="July">Jul</option>
                <option value="August">Aug</option>
                <option value="September">Sep</option>
                <option value="October">Oct</option>
                <option value="November">Nov</option>
                <option value="December">Dec</option>
            </select>

            <select name="Birthday_Year" id="Birthday_Year">

                <option value="-1">Year:</option>
                <option value="2012">2012</option>
                <option value="2011">2011</option>
                <option value="2010">2010</option>
                <option value="2009">2009</option>
                <option value="2008">2008</option>
                <option value="2007">2007</option>
                <option value="2006">2006</option>
                <option value="2005">2005</option>
                <option value="2004">2004</option>
                <option value="2003">2003</option>
                <option value="2002">2002</option>
                <option value="2001">2001</option>
                <option value="2000">2000</option>

                <option value="1999">1999</option>
                <option value="1998">1998</option>
                <option value="1997">1997</option>
                <option value="1996">1996</option>
                <option value="1995">1995</option>
                <option value="1994">1994</option>
                <option value="1993">1993</option>
                <option value="1992">1992</option>
                <option value="1991">1991</option>
                <option value="1990">1990</option>

                <option value="1989">1989</option>
                <option value="1988">1988</option>
                <option value="1987">1987</option>
                <option value="1986">1986</option>
                <option value="1985">1985</option>
                <option value="1984">1984</option>
                <option value="1983">1983</option>
                <option value="1982">1982</option>
                <option value="1981">1981</option>
                <option value="1980">1980</option>
            </select>
        </div>

        <div class="form-group">
            <label for="enrollmentdate">Enrollment Date:</label>
            <input type="enrollmentdate" class="form-control" id="enrollmentdate"
                   placeholder="Enter enrollmentdate" name="enrollmentdate">
        </div>
        <div class="form-group">
            <label for="mobilenumber">Mobile Number:</label>
            <input type="mobilenumber" class="form-control" id="mobikenumber"
                   placeholder="Enter mobile number" name="mobilenumber">
        </div>

        <label for="gender">Gender:</label>
        <input type="gender" class="form-control" id="gender"
               placeholder="Enter gender" name="gender">

        <div class="form-group">
            <label for="class">Class:</label>
            <input type="class" class="form-control" id="class"
                   placeholder="Enter class" name="class">
        </div>
        <div class="form-group">
            <label for="address">Address:</label>
            <input type="address" class="form-control" id="address"
                   placeholder="Enter address" name="address">
        </div>
        <input type="button" class="btn btn-primary" id="stuSave" value="Save"
                       onclick="saveStudent();">
            </form>
        </div>

    <script>
        $("#rollnumber").focus();
        function validateAndGetFormData() {
            var rollnumberVar = $("#rollnumber").val();
            if (rollnumberVar === "") {
                alert("Student ID Required Value");
                $("#rollnumber").focus();
                return "";
            }
            var fullnameVar = $("#fullname").val();
            if (fullnameVar === "") {
                alert("Student Name is Required Value");
                $("#fullname").focus();
                return "";
            }
            var birthdateVar = $("#birthdate").val();
            if (birthdateVar === "") {
                alert("birthdate is Required Value");
                $("#birthdate").focus();
                return "";
            }
            var enrollmentdateVar = $("#enrollmentdate").val();
            if (enrollmentdateVar === "") {
                alert("enrollmentdate is Required Value");
                $("#emrollment").focus();
                return "";
            }
            var mobilenumberVar = $("#mobilenumber").val();
            if (mobilenumberVar === "") {
                alert("mobilenumber is Required Value");
                $("#mobilenumber").focus();
                return "";
            }
            var genderVar = $("#gender").val();
            if (genderVar === "") {
                alert("gender is Required Value");
                $("#gender").focus();
                return "";
            }
            var classVar = $("#class").val();
            if (classVar === "") {
                alert("class is Required Value");
                $("#class").focus();
                return "";
            }
            var addressVar = $("#address").val();
            if (addressVar === "") {
                alert("address is Required Value");
                $("#address").focus();
                return "";
            }
            var jsonStrObj = {
                rollnumber: rollNumberVar,
                fullName: fullNameVar,
                birthdate: birthDateVar,
                enrollmentdate: enrollmentDateVar,
                mobilenumber: mobileNumberVar,
                gender: GenderVar,
                class: ClassVar,
                address: AddressVar
            };
            return JSON.stringify(jsonStrObj);
        }
        // This method is used to create PUT Json request.
        function createPUTRequest(connToken, jsonObj, dbName, relName) {
            var putRequest = "{\n"
                    + "\"token\" : \""
                    + connToken
                    + "\","
                    + "\"dbName\": \""
                    + dbName
                    + "\",\n" + "\"cmd\" : \"PUT\",\n"
                    + "\"rel\" : \""
                    + relName + "\","
                    + "\"jsonStr\": \n"
                    + jsonObj
                    + "\n"
                    + "}";
            return putRequest;
        }
        function executeCommand(reqString, dbBaseUrl, apiEndPointUrl) {
            var url = dbBaseUrl + apiEndPointUrl;
            var jsonObj;
            $.post(url, reqString, function (result) {
                jsonObj = JSON.parse(result);
            }).fail(function (result) {
                var dataJsonObj = result.responseText;
                jsonObj = JSON.parse(dataJsonObj);
            });
            return jsonObj;
        }
        function resetForm() {
            $("#rollnumber").val("");
            $("#fullname").val("");
            $("#birthdate").val("");
            $("#enrollmentdate").val("");
            $("#mobilenumber").val("");
            $("#gender").val("");
            $("#class").val("");
            $("#address").val("");
            $("#rollnumber").focus();
        }
        function saveStudent() {
            var jsonStr = validateAndGetFormData();
            if (jsonStr === "") {
                return;
            }
            var putReqStr = createPUTRequest("90933144|-31949318795855998|90951386",
                    jsonStr, "Stundent", "Student-Rel");
            alert(putReqStr);
            jQuery.ajaxSetup({async: false});
            var resultObj = executeCommand(putReqStr,
                    "http://api.login2explore.com:5577", "/api/iml");
            alert(JSON.stringify(resultObj));
            jQuery.ajaxSetup({async: true});
            resetForm();
        }
    </script>

</table>

</body>
</html>